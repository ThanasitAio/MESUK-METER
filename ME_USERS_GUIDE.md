# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ME_USERS - ‡∏£‡∏∞‡∏ö‡∏ö Login ‡πÉ‡∏´‡∏°‡πà

## üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏£‡∏≤‡∏á me_users

### ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á:
- **id** (UUID) - Primary Key
- **code** - ‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å (Unique)
- **username** - ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (Unique)
- **password** - ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (MD5 hash)
- **name** - ‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•
- **tel** - ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå
- **birthday** - ‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î
- **facebook_name** - ‡∏ä‡∏∑‡πà‡∏≠ Facebook
- **line_id** - Line ID
- **role** - ‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó (admin, agent, user)
- **created_date** - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á
- **created_by** - ‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á
- **updated_date** - ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
- **updated_by** - ‡∏ú‡∏π‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

---

## üîê ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Login ‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### Admin:
- **Username**: `0000999` ‡∏´‡∏£‡∏∑‡∏≠ `999` (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà 0 ‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡πá‡πÑ‡∏î‡πâ)
- **Password**: `999`
- **‡∏ä‡∏∑‡πà‡∏≠**: ‡∏ò‡∏ô‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå ‡∏≠‡∏¥‡πã‡∏ß‡∏™‡∏Å‡∏∏‡∏•
- **Role**: admin

### Agent:
- **Username**: `0000998` ‡∏´‡∏£‡∏∑‡∏≠ `998`
- **Password**: `998`
- **‡∏ä‡∏∑‡πà‡∏≠**: ‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô
- **Role**: agent

---

## üéØ ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö Login

### 1. ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏Å Username ‡πÅ‡∏ö‡∏ö‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô:
- ‡∏Å‡∏£‡∏≠‡∏Å `999` ‚Üí ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ `0000999` ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‡∏Å‡∏£‡∏≠‡∏Å `0000999` ‚Üí ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡∏£‡∏á‡πÜ
- ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ

### 2. ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™ Password:
- ‡πÉ‡∏ä‡πâ MD5 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö backward compatibility
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏õ‡πá‡∏ô bcrypt ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï

### 3. Role-based Access:
- **admin** - ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
- **agent** - ‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô‡∏à‡∏≥‡∏´‡∏ô‡πà‡∏≤‡∏¢
- **user** - ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ

---

## üíª ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢

### ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏´‡∏°‡πà:
```sql
INSERT INTO me_users 
(id, code, username, password, name, role, created_by) 
VALUES
(UUID(), '0000997', '0000997', MD5('password123'), '‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ', 'user', 'admin');
```

### ‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà:
```sql
UPDATE me_users 
SET password = MD5('‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà'), updated_by = 'admin', updated_date = NOW() 
WHERE username = '0000999';
```

### ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ:
```sql
SELECT id, code, username, name, role, created_date 
FROM me_users 
ORDER BY created_date DESC;
```

---

## üöÄ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

1. **‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå**: http://localhost:8000/login

2. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö Login ‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≤‡∏á‡πÜ**:
   - Username: `999` / Password: `999` ‚úÖ
   - Username: `0000999` / Password: `999` ‚úÖ
   - Username: `998` / Password: `998` ‚úÖ
   - Username: `0000998` / Password: `998` ‚úÖ

3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Session**:
   - ‡∏´‡∏•‡∏±‡∏á Login ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏à‡∏∞ redirect ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
   - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô Session
   - Session timeout 30 ‡∏ô‡∏≤‡∏ó‡∏µ

---

## üîß PowerShell Commands

### ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ú‡πà‡∏≤‡∏ô Docker:
```powershell
docker exec -it mesuk-meter-db mysql -uroot -proot -e "USE meesuk_db; INSERT INTO me_users (id, code, username, password, name, role, created_by) VALUES (UUID(), '0000997', '0000997', MD5('password'), 'Test User', 'user', 'system');"
```

### ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ:
```powershell
docker exec -it mesuk-meter-db mysql -uroot -proot -e "USE meesuk_db; SELECT code, username, name, role FROM me_users;"
```

### ‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà:
```powershell
docker exec -it mesuk-meter-db mysql -uroot -proot -e "USE meesuk_db; UPDATE me_users SET password = MD5('newpass') WHERE username = '0000999';"
```

---

## üìå ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

1. ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ‡∏ï‡∏≤‡∏£‡∏≤‡∏á `me_users` ‡πÅ‡∏ó‡∏ô `ali_member` ‡πÅ‡∏•‡πâ‡∏ß
2. ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏Å Username ‡∏ó‡∏±‡πâ‡∏á‡πÅ‡∏ö‡∏ö‡∏°‡∏µ 0 ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ 0
3. ‚úÖ ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏î‡πâ‡∏ß‡∏¢ MD5
4. ‚úÖ ‡∏°‡∏µ 3 ‡∏£‡∏∞‡∏î‡∏±‡∏ö Role: admin, agent, user
5. ‚ö†Ô∏è ‡∏ï‡∏≤‡∏£‡∏≤‡∏á `ali_member` ‡πÄ‡∏î‡∏¥‡∏°‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£

---

## üéâ ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

### Before (ali_member):
- ‡πÉ‡∏ä‡πâ `mcode` ‡πÄ‡∏õ‡πá‡∏ô username
- ‡πÉ‡∏ä‡πâ `pass_encode` ‡πÄ‡∏õ‡πá‡∏ô password
- ‡πÉ‡∏ä‡πâ `posid = '99'` ‡πÅ‡∏¢‡∏Å admin
- ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô ‡∏°‡∏µ‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏°‡∏≤‡∏Å‡∏°‡∏≤‡∏¢

### After (me_users):
- ‡πÉ‡∏ä‡πâ `username` ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
- ‡πÉ‡∏ä‡πâ `password` ‡πÄ‡∏õ‡πá‡∏ô field password
- ‡πÉ‡∏ä‡πâ `role` enum ‡πÅ‡∏¢‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
- ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢ ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö UUID ‡πÄ‡∏õ‡πá‡∏ô Primary Key
- ‡∏°‡∏µ tracking fields (created_by, updated_by)
